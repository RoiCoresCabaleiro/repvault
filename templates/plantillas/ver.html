{% extends "layout.html" %}
{% block content %}
    <h2 style="display:flex; align-items:center; gap:10px;">
        {{ plantilla.nombre }}
        <form method="GET" action="{{ url_for('plantillas.gestionar', soid=clave) }}" style="display:inline;">
            <button type="submit">Editar</button>
        </form>
        <form method="POST" action="{{ url_for('plantillas.eliminar', clave=clave) }}" style="display:inline;" onsubmit="return confirm('Â¿Seguro que quieres eliminar esta plantilla?');">
            <button type="submit">Eliminar</button>
        </form>
    </h2>

    {% if plantilla.observaciones %}
        <p><strong>Observaciones:</strong> {{ plantilla.observaciones }}</p>
    {% endif %}

    <h3>Ejercicios incluidos:</h3>
    {% if plantilla.orden %}
        {% for clave_e in plantilla.orden %}
            {% set series = plantilla.ejercicios[clave_e] %}
            {% for k, ej in ejercicios %}
                {% if k == clave_e %}
                    <p>{{ series }} x {{ ej.nombre }}</p>
                {% endif %}
            {% endfor %}
        {% endfor %}
    {% else %}
        <p>No hay ejercicios en esta plantilla.</p>
    {% endif %}

    <form method="POST" action="{{ url_for('entrenamientos.iniciar', clave=clave) }}">
        <button type="submit">Iniciar entrenamiento</button>
    </form>
{% endblock %}
